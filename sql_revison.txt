CREATE TABLE EMP AS  SELECT * FROM SCOTT.EMP;

-- BASIC SELECT STMT
/*
SELECT COLNAME,...[*] [DISTINCT] FROM TABLE NAME
[WHERE FILTER CONDTION];
*/ 

/* PROJECTION
SELECTTNG A VALUES FROM BY A COLUMN ONLY*/

SELECT ENAME,SAL FROM EMP; 

SELECT * FROM EMP; -- TO VIEW ENTIRE TABLE OF EMP

DESC EMP;

DELETE FROM EMP;

ALTER TABLE EMP ADD CONSTRAINTS emp_pk PRIMARY KEY(EMPNO);

INSERT INTO EMP(EMPNO,ENAME,JOB) VALUES (null,'DILIPKUMAR','MANAGER'); --RA-01400: cannot insert NULL into ("SQL_XNHANBGOEDUAPLTMHFVHCCURD"."EMP"."EMPNO") 

-- if we try to add null value into the column, it was throw an error.( primary key is the combination of unique and notnull), primary key column can't be a null value

ALTER TABLE EMP DROP CONSTRAINTS EMP_PK;

DROP TABLE EMP;

DESC EMP;

ALTER TABLE EMP ADD CONSTRAINTS emp_unique UNIQUE (EMPNO); 

INSERT INTO EMP(EMPNO,ENAME,JOB) VALUES (7843,'KESAV','ANALYST');
INSERT INTO EMP(EMPNO,ENAME,JOB) VALUES (7456,'HARIKRISHNAN','CLERK');
INSERT INTO EMP(EMPNO,ENAME,JOB) VALUES (NULL,'KESAV','ANALYST');
INSERT INTO EMP(EMPNO,ENAME,JOB) VALUES (NULL,'SEENIVASAN','MANAGER'); -- we can add many number of columns with null values, it will accept it

ALTER TABLE EMP MODIFY  ENAME VARCHAR2(20);

SELECT * FROM EMP;

ALTER TABLE EMP ADD CONSTRAINTS emp_ck CHECK (LENGTH(EMPNO)=4); -- CHECK CONSTRAINS TO CHECK THE LENGTH OF THE EMP NUMBER 

INSERT INTO EMP(EMPNO,ENAME,JOB) VALUES (8954,'RAGAVAN','IT');
INSERT INTO EMP(EMPNO,ENAME,JOB) VALUES (87954,'ASWIN','ECE'); --

----------------------------------------------------------------------------

DROP TABLE EMP;

CREATE TABLE EMP
(
    EMPNO NUMBER,
    ENAME VARCHAR2(25),
    JOB VARCHAR2(20)
);

ALTER TABLE EMP ADD CONSTRAINTS emp_uk UNIQUE(EMPNO);

DESC EMP;

INSERT INTO EMP(EMPNO,ENAME,JOB) VALUES (8975,'DILIPKUMAR','MANAGER');
INSERT INTO EMP(EMPNO,ENAME,JOB) VALUES (7854,'KESAV','CLERK');
INSERT INTO EMP(EMPNO,ENAME,JOB) VALUES (NULL,'SEENIVASAN','CEO');
INSERT INTO EMP(EMPNO,ENAME,JOB) VALUES (NULL,'HARIKRISHNAN','SOCIAL WORK');
INSERT INTO EMP(EMPNO,ENAME,JOB) VALUES (NULL,'NAVANEETHA KRISHNAN','MANAGER');

SELECT * FROM EMP;

ALTER TABLE EMP ADD  MOBILE_NO NUMBER(11) ;

ALTER TABLE EMP MODIFY  ENAME NVARCHAR2(100);

DESC EMP;

ALTER TABLE EMP DROP COLUMN MOBILE_NO;

ALTER TABLE EMP ADD CONSTRAINTS emp_mob UNIQUE(MOBILE_NO);

ALTER TABLE EMP ADD CONSTRAINT emp_mob_ck CHECK (LENGTH(MOBILE_NO)=10) ;

INSERT INTO EMP (MOBILE_NO) VALUES (8973172512);

SELECT * FROM EMP;

UPDATE EMP SET MOBILE_NO = 8973172512 WHERE ENAME = 'DILIPKUMAR';

ALTER TABLE EMP DROP CONSTRAINT emp_mob;

ALTER TABLE EMP DROP CONSTRAINTS EMP_UK;

ALTER TABLE EMP ADD CONSTRAINT EMP_UK UNIQUE(EMPNO,MOBILE_NO);

-- TO CHECK ALL THE CONSTRAINT DETAILS OF THE EMP TABLE

SELECT *
FROM user_cons_columns
WHERE TABLE_NAME = 'EMP';

INSERT INTO EMP(EMPNO,ENAME,JOB) VALUES (8975,'DILIPKUMAR','MANAGER');

ALTER TABLE EMP DISABLE CONSTRAINT EMP_UK; -- TO DISBLE THE CONSTRAINT

INSERT INTO EMP(EMPNO,ENAME,JOB) VALUES (8975,'DILIPKUMAR','MANAGER'); -- NOW IT ALLOWS EMPNO,MONILE_NO AS DUPLICATE VALUES

ALTER TABLE EMP ENABLE CONSTRAINT EMP_UK; -- AFTER INSERT SOME DUPLICATE RECORDS ENABLE HE UNIQUE CONSTRAINT IT WILL THROW AN ERROR
-- ORA-02299: cannot validate (SQL_XNHANBGOEDUAPLTMHFVHCCURD.EMP_UK) - duplicate keys found 

DELETE FROM EMP;

ALTER TABLE EMP RENAME COLUMN MOBILE_NO TO CELL_NO;

DESC EMP;

DELETE FROM EMP;-- DELETE ONLY FOR ALL RECORDS OR A SPECIIFIC CONDTIONS BASED DELETION, TABLE STRUCTURE SAME

SELECT * FROM EMP;

TRUNCATE TABLE EMP; --Table truncated.

DESC EMP; -- table structure is not affected after truncate

-- DIFFENERENCE BETWEEN TRUNCATE AND DELETE

/* we can deleete  a records using where condtions and without where condtion also , but truncate we can't performs a where condtion ,
it deletes  the entire recods of the table , without changing the strcuture */
/* both will not affected to the table structre, truncate is for entire table*/
/* delete is for entire table as well as paricular columns */


DROP TABLE EMP; -- it will be permanenlty delete the table into the database

DESC EMP; -- object EMP does not exist

-- FLASHBACK
/* IT IS USED TO RECOVER THE TABLE FROM RECYLE BIN TO A DATABASE*/

SELECT * FROM TAB;

FLASHBACK TABLE EMP
TO BEFORE DROP 
RENAME TO EMP1;

SELECT * FROM EMP1;  /* WE CAN'T USE A OLD TABLE NAME , WE MUST USED NEW NAME */

-- PURGE
/*  IT IS USED TO DELETE A TABLE FROM RECYCLE BIN */

DROP TABLE EMP1; --Table dropped.

SELECT * FROM TAB;

/* EMP1 TABLE IS UNDER RECYLE BIN
BIN$BNPwdDT1gdDgYwMOqMAnMA==$0	TABLE	 - */

PURGE TABLE EMP1; -- statement processed 

SELECT * FROM TAB;

/* table address is not available on the select * from tab */



create table emp as select * from scott.emp;

select rowid,rownum,emp.*
from emp;

alter table emp add constraints emp_uk UNIQUE (EMPNO);

INSERT INTO EMP (EMPNO) VALUES (NULL);

SELECT * FROM EMP;

INSERT INTO EMP (EMPNO,ENAME) VALUES (NULL,'DILIP');

SELECT *
FROM user_cons_columns
WHERE table_name = 'EMP';

alter table emp add constraints emp_uk1 UNIQUE (ENAME);

INSERT INTO EMP(ENAME) VALUES ('hari');

RENAME EMP TO EMP1;

SELECT * FROM EMP1;